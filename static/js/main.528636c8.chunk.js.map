{"version":3,"sources":["reportWebVitals.ts","components/input.tsx","components/use-on-click-outside.ts","repository.ts","../../dist/es6/suspense/create-repository.js","demo.tsx","../../dist/es6/errors/error-boundary.js","../../dist/es6/suspense/suspense-component.js","hoc-demo.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Panel","styled","div","ScrollRestriction","Item","InputWrapper","isActive","Input","input","Loading","useOnClickOutside","ref","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","repository","fetcher","options","cache","read","_a","args","_i","arguments","length","generateCacheKey","toCacheKey","hash","cacheKey","undefined","apply","value","createRepository","searchTerm","a","count","entries","fetch","response","json","data","Data","map","result","API","Example","useRef","useState","isPanelOpen","setPanelOpen","setValue","onChange","onFocus","fallback","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","ErrorBoundary","_super","_this","state","hasError","error","getDerivedStateFromError","retry","setState","render","_b","props","Fallback","children","retryPolicy","_jsx","times","setTimeout","intervalMs","Fb","React","Component","__assign","assign","t","s","i","n","SuspenseComponentComponent","errorOptions","loadingFallback","repositoryArguments","Cmp","useMemo","componentFactory","errorBoundaryProps","Suspense","SuspenseData","layoutComponent","dataFactory","SuspenseComponent","LayoutComponent","HocDemo","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.528636c8.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import styled from 'styled-components/macro';\n\ninterface IsActive {\n    isActive?: boolean;\n}\n\nexport const Panel = styled.div`\n    top: 100%;\n    background-color: rgb(255, 255, 255);\n    border-radius: 4px;\n    box-shadow: rgb(0 0 0 / 10%) 0px 0px 0px 1px, rgb(0 0 0 / 10%) 0px 4px 11px;\n    margin-bottom: 8px;\n    margin-top: 8px;\n    position: absolute;\n    width: 100%;\n    z-index: 1;\n    box-sizing: border-box;\n`;\n\nexport const ScrollRestriction = styled.div`\n    max-height: 300px;\n    overflow-y: auto;\n    padding-bottom: 4px;\n    padding-top: 4px;\n    position: relative;\n    box-sizing: border-box;\n`;\n\nexport const Item = styled.div`\n    background-color: transparent;\n    cursor: default;\n    display: block;\n    padding: 0.5rem 0.75rem;\n    width: 100%;\n    user-select: none;\n    box-sizing: border-box;\n\n    &:hover {\n        background: aliceblue;\n    }\n`;\n\nexport const InputWrapper = styled.div<IsActive>`\n    align-items: center;\n    border-color: ${ ({ isActive }) => isActive ? 'rgb(38, 132, 255)' : '#444444' };\n    border-radius: 4px;\n    border-style: solid;\n    border-width: 1px;\n    box-shadow: ${ ({ isActive }) => isActive ? 'rgb(38 132 255) 0px 0px 0px 1px' : 'rgb(60 60 60) 0px 0px 0px 1px' };\n    cursor: default;\n    display: flex;\n    flex-wrap: wrap;\n    -webkit-box-pack: justify;\n    justify-content: space-between;\n    min-height: 2.375rem;\n    position: relative;\n    transition: all 100ms ease 0s;\n    box-sizing: border-box;\n    outline: 0px !important;\n    margin: 2rem;\n`;\n\nexport const Input = styled.input`\n    outline: 0;\n    border: 0;\n    line-height: 2rem;\n    margin-left: 0.5rem;\n    width: 100%;\n`;\n\nexport const Loading = styled.div`\n    padding: 1rem;\n`;\n","import React, { useEffect } from 'react';\n\nexport const useOnClickOutside = <T extends HTMLElement>(\n    ref: React.RefObject<T>,\n    handler: (e: MouseEvent | TouchEvent) => void,\n) => {\n    useEffect(\n      () => {\n        const listener = (event: MouseEvent | TouchEvent) => {\n          if (!ref.current || ref.current.contains(event.target as Node)) return;\n          handler(event);\n        };\n\n        document.addEventListener(\"mousedown\", listener);\n        document.addEventListener(\"touchstart\", listener);\n\n        return () => {\n          document.removeEventListener(\"mousedown\", listener);\n          document.removeEventListener(\"touchstart\", listener);\n        };\n      },\n\n      [ref, handler]\n    );\n}\n","import { createRepository } from 'suspense-utils';\n\ninterface Entry {\n    API: string;\n    Auth: string;\n    Category: string;\n    Cors: 'unknown' | 'yes' | 'no';\n    Description: string;\n    HTTPS: boolean;\n    Link: string;\n}\n\nexport interface Result {\n    count: number;\n    entries: Entry[];\n}\n\nconst dataResolver = async (searchTerm: string) => {\n    if (!searchTerm) return { count: 0, entries: [] };\n\n    const response = await fetch(`https://api.publicapis.org/entries?title=${searchTerm}`);\n    const data = await response.json();\n\n    return data as Result;\n}\n\nexport const repository = createRepository(dataResolver);\n","import hash from 'object-hash';\nexport function createRepository(fetcher, options) {\n    var cache = {};\n    return {\n        read: function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var generateCacheKey = (_a = options === null || options === void 0 ? void 0 : options.toCacheKey) !== null && _a !== void 0 ? _a : hash;\n            var cacheKey = args ? generateCacheKey(args) : 'default';\n            if (cache[cacheKey] === undefined)\n                throw fetcher.apply(void 0, args).then(function (value) { return (cache[cacheKey] = value); });\n            else\n                return cache[cacheKey];\n        }\n    };\n}\n","import React, { useState, useRef, Suspense } from 'react';\nimport { Input, InputWrapper, Item, Loading, Panel, ScrollRestriction } from './components/input';\nimport { useOnClickOutside } from './components/use-on-click-outside';\nimport { repository } from './repository';\n\ninterface DataProps {\n    searchTerm: string;\n}\n\nconst Data: React.FC<DataProps> = ({ searchTerm }) => {\n    const { entries } = repository.read(searchTerm);\n\n    return (\n        <Panel>\n            <ScrollRestriction>\n                {\n                    entries.map(result => (\n                        <Item key={result.API}>\n                            { result.API }\n                        </Item>\n                    ))\n                }\n            </ScrollRestriction>\n        </Panel>\n    )\n}\n\nexport const Example: React.FC = () => {\n    const ref = useRef<HTMLDivElement>(null);\n    const [isPanelOpen, setPanelOpen] = useState(false);\n    const [value, setValue] = useState('');\n\n    useOnClickOutside(ref, () => setPanelOpen(false));\n\n    return (\n        <InputWrapper\n            isActive={isPanelOpen}\n            ref={ref}\n        >\n            <Input\n                value={value}\n                onChange={event => setValue(event.target.value)}\n                onFocus={() => setPanelOpen(true)}\n            />\n            {\n                !isPanelOpen ? null : (\n                    <Suspense fallback={<Panel><Loading>Loading</Loading></Panel>}>\n                        <Data searchTerm={value} />\n                    </Suspense>\n                )\n            }\n        </InputWrapper>\n    )\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nvar isRetryPolicy = function (props) { return !!props.retryPolicy; };\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            count: 0,\n            hasError: false,\n            error: undefined,\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return {\n            hasError: true,\n            error: error\n        };\n    };\n    ErrorBoundary.prototype.retry = function () {\n        this.setState(function (state) { return ({\n            hasError: false,\n            count: state.count + 1,\n            error: undefined,\n        }); });\n    };\n    ErrorBoundary.prototype.render = function () {\n        var _this = this;\n        var _a = this.state, count = _a.count, error = _a.error, hasError = _a.hasError;\n        var _b = this.props, Fallback = _b.fallback, children = _b.children;\n        if (!isRetryPolicy(this.props))\n            return hasError ? _jsx(Fallback, { error: error, retry: this.retry }, void 0) : children;\n        var retryPolicy = this.props.retryPolicy;\n        if (hasError && count < retryPolicy.times)\n            setTimeout(function () { _this.retry(); }, retryPolicy.intervalMs);\n        var Fb = Fallback;\n        return hasError ? _jsx(Fb, {}, void 0) : children;\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport { ErrorBoundary };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMemo, Suspense } from 'react';\nimport { ErrorBoundary } from '../errors';\nvar componentFactory = function (repository) { return function (_a) {\n    var props = _a.props, repositoryArguments = _a.repositoryArguments;\n    var Cmp = repository.read.apply(repository, repositoryArguments);\n    return _jsx(Cmp, __assign({}, props), void 0);\n}; };\nvar dataFactory = function (repository) { return function (_a) {\n    var Cmp = _a.layoutComponent, repositoryArguments = _a.repositoryArguments;\n    var data = repository.read.apply(repository, repositoryArguments);\n    return _jsx(Cmp, { children: data }, void 0);\n}; };\nexport var isComponent = function (obj) {\n    return !!obj.props;\n};\nvar SuspenseComponentComponent = function (_a) {\n    var errorOptions = _a.errorOptions, loadingFallback = _a.loadingFallback, repository = _a.repository, props = _a.props, repositoryArguments = _a.repositoryArguments;\n    var Cmp = useMemo(function () { return componentFactory(repository); }, []);\n    var errorBoundaryProps = (errorOptions !== null && errorOptions !== void 0 ? errorOptions : {});\n    return (_jsx(ErrorBoundary, __assign({}, errorBoundaryProps, { children: _jsx(Suspense, __assign({ fallback: loadingFallback !== null && loadingFallback !== void 0 ? loadingFallback : _jsx(\"div\", { children: \"loading\" }, void 0) }, { children: _jsx(Cmp, { props: props, repositoryArguments: repositoryArguments }, void 0) }), void 0) }), void 0));\n};\nvar SuspenseData = function (_a) {\n    var errorOptions = _a.errorOptions, loadingFallback = _a.loadingFallback, repository = _a.repository, repositoryArguments = _a.repositoryArguments, layoutComponent = _a.layoutComponent;\n    // const Cmp = useMemo(() => dataFactory<TProps, TReturn, TArgs>(repository), []);\n    var Cmp = dataFactory(repository);\n    var errorBoundaryProps = (errorOptions !== null && errorOptions !== void 0 ? errorOptions : {});\n    return (_jsx(ErrorBoundary, __assign({}, errorBoundaryProps, { children: _jsx(Suspense, __assign({ fallback: loadingFallback !== null && loadingFallback !== void 0 ? loadingFallback : _jsx(\"div\", { children: \"loading\" }, void 0) }, { children: _jsx(Cmp, { layoutComponent: layoutComponent, repositoryArguments: repositoryArguments }, void 0) }), void 0) }), void 0));\n};\nexport var SuspenseComponent = function (props) { return isComponent(props) ? _jsx(SuspenseComponentComponent, __assign({}, props), void 0) : _jsx(SuspenseData, __assign({}, props), void 0); };\n","import React, { useRef, useState } from 'react';\nimport { SuspenseComponent } from 'suspense-utils';\nimport { Input, InputWrapper, Item, Loading, Panel, ScrollRestriction } from './components/input';\nimport { useOnClickOutside } from './components/use-on-click-outside';\nimport { repository, Result } from './repository';\n\ninterface LayoutComponentProps {\n    children: Result;\n}\n\nconst LayoutComponent: React.FC<LayoutComponentProps> = ({\n    children,\n}) => (\n    <Panel>\n        <ScrollRestriction>\n            {\n                children.entries.map(result => (\n                    <Item key={result.API}>\n                        { result.API }\n                    </Item>\n                ))\n            }\n        </ScrollRestriction>\n    </Panel>\n)\n\nexport const HocDemo: React.FC = () => {\n    const ref = useRef<HTMLDivElement>(null);\n    const [isPanelOpen, setPanelOpen] = useState(false);\n    const [value, setValue] = useState('');\n\n    useOnClickOutside(ref, () => setPanelOpen(false));\n\n    return (\n        <InputWrapper\n            isActive={isPanelOpen}\n            ref={ref}\n        >\n            <Input\n                value={value}\n                onChange={event => setValue(event.target.value)}\n                onFocus={() => setPanelOpen(true)}\n            />\n            {\n                !isPanelOpen ? null : (\n                    <SuspenseComponent\n                        repository={repository}\n                        repositoryArguments={[value]}\n                        layoutComponent={LayoutComponent}\n                        loadingFallback={<Panel><Loading>Loading</Loading></Panel>}\n                    />\n                )\n            }\n        </InputWrapper>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport { Example } from './demo';\nimport { HocDemo } from './hoc-demo';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Example />\n    <HocDemo />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}